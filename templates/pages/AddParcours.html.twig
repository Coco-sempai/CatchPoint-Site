{% extends 'base.html.twig' %}

{% block title %}
    Création d'un parcours
{% endblock %}

{% block body %}

    <div class="container2  background" style="min-height: 100vh;">
        <span class="box ml-5">Nouveau parcours</span>

        {{ form_start(form) }}
        <div class="card m-5 bg-light">
            <h5 class="card-header">Étape 1</h5>
            <div class="card-body">
                <p class="card-text">{{ form_row(form.nomParcours, {'label':'Nom du parcours' }) }}</p>
                <p class="card-text">{{ form_row(form.descriptionParcours, {'label':'Description (500 caractères max.)'}) }}</p>
                <p class="card-text">{{ form_row(form.difficulte, {'label':'Difficulté' }) }}</p>
            </div>
        </div>
        <div class="card m-5 bg-light">
            <h5 class="card-header">Étape 2</h5>
            <div class="card-body">
                <!--<p class="card-text">Fichier GPX : <input type="file" class="ml-2" accept=".gpx">-->

                <!-- MAP -->

                <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
                        crossorigin=""></script>

                <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
                      crossorigin="" />

                <link rel="stylesheet" href="{{ asset('res/css/webmap.css') }}">
                <script>
                    const path = "{{ asset('res/images/') }}";
                    const MAX_WAYPOINTS_AMMOUNT = "{{ MAX_WAYPOINTS_AMMOUNT }}";
                </script>
                <script type="text/javascript" src="{{ asset('res/js/Waypoint.js') }}"></script>
                <script type="text/javascript" src="{{ asset('res/js/controller.js') }}"></script>
                <style type="text/css"> #map{ height:400px; } </style>


                <div style="width: 100% ; float: left ">
			        <div id="map" style="width: 70% ; display: inline-block;"></div>
                    <div id="mapSideBar">
                        <div id="mapSideBarTitleContainer">
                            <span id="mapSideBarTitle">0 Points</span>
                        </div>
                        <table id="markersTable"></table>
                    </div>
		        </div>

                <div id="waypointDetailsContainer" style="display: inline-block">
                    <b>Lat: <span id="waypointLatField"></span></b>
                    <br>
                    <b>Long: <span id="waypointLongField"></span></b>
                    <br>
                    <b>Name: <input type="text" id="waypointNameField"></b>
                    <br>


                    <div id="hintContainer">
                        <b>Description:</b>
                        <br>
                        <input type="text" id="waypointHintField">
                    </div>

                    <a onclick="applyWaypointChanges()" class="mapButton btn btn-success" style="color: white">Apply</a>

                    <a onclick="deleteWaypoint()" class="mapButton btn btn-success" style="color: white">Delete this waypoint</a>

                </div>
                <a onclick="clearAll()" class="mapButton btn btn-success" style="color: white">Clear all</a>

                </p>

            </div>
        </div>
        <div class="col">

        </div>
        <a onclick="submit()" class="btn btn-success" style="display: block;margin: auto; width:150px;color:white">{{ button|default('Enregistrer') }}</a>
        <div style="height: 250px"></div>

        {{ form_end(form) }}

    </div>
    <span class="fixed_background"></span>


{% endblock %}

